{"ast":null,"code":"import _slicedToArray from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect}from\"react\";import AppBar from\"@material-ui/core/AppBar\";import Toolbar from\"@material-ui/core/Toolbar\";import Typography from\"@material-ui/core/Typography\";import Breadcrumbs from\"@material-ui/core/Breadcrumbs\";import{makeStyles}from\"@material-ui/core/styles\";import PersonIcon from\"@material-ui/icons/Person\";import{useHistory}from\"react-router-dom\";import Menu from\"@material-ui/core/Menu\";import MenuItem from\"@material-ui/core/MenuItem\";import axios from\"axios\";import logo from\"../assets/MemsLogowhite.svg\";import HomeIcon from'@material-ui/icons/Home';var useStyles=makeStyles(function(theme){var _root;return{root:(_root={padding:theme.spacing(1)},_defineProperty(_root,theme.breakpoints.down(\"sm\"),{margin:\"0 10px\",width:\"100%\"}),_defineProperty(_root,theme.breakpoints.up(\"md\"),{width:\"1200px\",margin:\"0 auto\"}),_defineProperty(_root,theme.breakpoints.up(\"lg\"),{width:\"1200px\",margin:\"0 auto\"}),_root)};});function Navbar(){var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var username=localStorage.getItem(\"user\");var logOut=function logOut(e){e.preventDefault();localStorage.removeItem(\"token\");history.push(\"/login\");window.location.reload();};var history=useHistory();var redirectToUsers=function redirectToUsers(){history.push(\"/users\");};var redirectToHome=function redirectToHome(e){history.push(\"/\");e.preventDefault();};var redirectToProfile=function redirectToProfile(){history.push(\"/profile\");};var redirectToRaports=function redirectToRaports(){history.push(\"/reports\");};var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),anchorEl=_React$useState4[0],setAnchorEl=_React$useState4[1];var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};useEffect(function(){var query=localStorage.getItem(\"user\");axios.get(\"/user\",{params:{username:query}}).then(function(response){localStorage.setItem(\"userData\",JSON.stringify(response.data));response.data.authorities.forEach(function(auth){if(auth.roleName===\"ADMIN\"){setUser(\"ADMIN\");}else setUser(null);});}).catch(function(error){console.log(error);});});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AppBar,{position:\"static\",title:\"MEMS\"},/*#__PURE__*/React.createElement(Toolbar,{variant:\"dense\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.root,style:{display:\"flex\"}},/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flex:\"2\",textAlign:\"left\",alignSelf:\"center\",display:\"inline-flex\"}},/*#__PURE__*/React.createElement(\"img\",{width:\"40px\",height:\"50px\",src:logo,alt:\"MEMS\"}),/*#__PURE__*/React.createElement(Breadcrumbs,{\"aria-label\":\"breadcrumb\"}),/*#__PURE__*/React.createElement(\"div\",{style:{cursor:\"pointer\",marginLeft:\"20px\",alignSelf:\"center\"},onClick:redirectToHome},/*#__PURE__*/React.createElement(\"span\",null,\"Home\")),user!=null?/*#__PURE__*/React.createElement(\"div\",{style:{cursor:\"pointer\",marginLeft:\"20px\",alignSelf:\"center\"},onClick:redirectToUsers},/*#__PURE__*/React.createElement(\"span\",null,\"Users\")):\"\",/*#__PURE__*/React.createElement(\"div\",{style:{cursor:\"pointer\",marginLeft:\"20px\",alignSelf:\"center\"},onClick:redirectToRaports},/*#__PURE__*/React.createElement(\"span\",null,\"Reports\"))),/*#__PURE__*/React.createElement(\"div\",{style:{flex:\"1\",textAlign:\"right\",alignSelf:\"center\"}},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"right\",display:\"inline-flex\",cursor:\"pointer\"},onClick:handleClick},/*#__PURE__*/React.createElement(PersonIcon,{style:{fontSize:\"18px\"}}),username),/*#__PURE__*/React.createElement(Menu,{id:\"simple-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose},/*#__PURE__*/React.createElement(MenuItem,{onClick:redirectToProfile},\"My Profile\"),/*#__PURE__*/React.createElement(MenuItem,{onClick:logOut},\"Log out\")))))));}export default Navbar;","map":{"version":3,"sources":["/home/xhesina/Desktop/courier-server/src/main/react-app/src/Navbar/navbar.js"],"names":["React","useEffect","AppBar","Toolbar","Typography","Breadcrumbs","makeStyles","PersonIcon","useHistory","Menu","MenuItem","axios","HomeIcon","useStyles","theme","root","padding","spacing","breakpoints","down","margin","width","up","Navbar","classes","useState","user","setUser","username","localStorage","getItem","logOut","e","preventDefault","removeItem","history","push","window","location","reload","redirectToUsers","redirectToHome","redirectToProfile","redirectToRaports","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","query","get","params","then","response","setItem","JSON","stringify","data","authorities","forEach","auth","roleName","catch","error","console","log","display","flex","textAlign","alignSelf","logo","cursor","marginLeft","fontSize","Boolean"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport { useHistory } from \"react-router-dom\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport axios from \"axios\";\nimport logo from \"../assets/MemsLogowhite.svg\";\nimport HomeIcon from '@material-ui/icons/Home';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: \"0 10px\",\n      width: \"100%\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"1200px\",\n      margin: \"0 auto\",\n    },\n    [theme.breakpoints.up(\"lg\")]: {\n      width: \"1200px\",\n      margin: \"0 auto\",\n    },\n  },\n}));\n\nfunction Navbar() {\n  const classes = useStyles();\n  const [user, setUser] = React.useState(null);\n  const username = localStorage.getItem(\"user\");\n  const logOut = (e) => {\n    e.preventDefault();\n    localStorage.removeItem(\"token\");\n    history.push(\"/login\");\n    window.location.reload();\n  };\n  const history = useHistory();\n  const redirectToUsers = () => {\n    history.push(\"/users\");\n  };\n  const redirectToHome = (e) => {\n    history.push(\"/\");\n    e.preventDefault();\n  };\n  const redirectToProfile = () => {\n    history.push(\"/profile\");\n  };\n  const redirectToRaports = () => {\n    history.push(\"/reports\");\n  }\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  useEffect(() => {\n    let query = localStorage.getItem(\"user\");\n\n    axios\n      .get(\"/user\", {\n        params: {\n          username: query,\n        },\n      })\n      .then((response) => {\n        localStorage.setItem(\"userData\",JSON.stringify(response.data))\n        response.data.authorities.forEach((auth) => {\n          if (auth.roleName === \"ADMIN\") {\n            setUser(\"ADMIN\");\n          } else setUser(null);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  });\n\n  return (\n    <div>\n      <AppBar position=\"static\" title=\"MEMS\">\n        <Toolbar variant=\"dense\">\n          <div className={classes.root} style={{ display: \"flex\" }}>\n            <Typography\n              variant=\"h6\"\n              color=\"inherit\"\n              style={{\n                flex: \"2\",\n                textAlign: \"left\",\n                alignSelf: \"center\",\n                display: \"inline-flex\",\n              }}\n            >\n              <img width=\"40px\" height=\"50px\" src={logo} alt=\"MEMS\"></img>\n              <Breadcrumbs aria-label=\"breadcrumb\"></Breadcrumbs>\n              <div\n                style={{ cursor: \"pointer\", marginLeft: \"20px\",   alignSelf: \"center\" }}\n                onClick={redirectToHome}\n              >\n                <span>Home</span>\n              </div>\n              {user != null ? (\n                <div\n                  style={{ cursor: \"pointer\", marginLeft: \"20px\",alignSelf: \"center\"  }}\n                  onClick={redirectToUsers}\n                >\n                  <span>Users</span>\n                </div>\n              ) : (\n                \"\"\n              )}\n              <div\n                  style={{ cursor: \"pointer\", marginLeft: \"20px\",alignSelf: \"center\"  }}\n                  onClick={redirectToRaports}\n                >\n                  <span>Reports</span>\n                </div>\n            </Typography>\n            <div\n              style={{\n                flex: \"1\",\n                textAlign: \"right\",\n                alignSelf: \"center\",\n                \n              }}\n            >\n              <div\n                style={{\n                  textAlign:\"right\",\n                  display: \"inline-flex\",\n                  cursor: \"pointer\",\n                }}\n                onClick={handleClick}\n              >\n                <PersonIcon style={{ fontSize: \"18px\" }} />\n                {username}\n              </div>\n              <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n                <MenuItem onClick={redirectToProfile}>My Profile</MenuItem>\n                <MenuItem onClick={logOut}>Log out</MenuItem>\n              </Menu>\n            </div>\n          </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}