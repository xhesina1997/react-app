{"ast":null,"code":"import _defineProperty from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import TextField from\"@material-ui/core/TextField\";import Grid from\"@material-ui/core/Grid\";import Button from\"@material-ui/core/Button\";import Snackbar from\"@material-ui/core/Snackbar\";import Autocomplete from\"@material-ui/lab/Autocomplete\";import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import axios from\"axios\";import{withRouter}from'react-router-dom';var CreationForm=/*#__PURE__*/function(_Component){_inherits(CreationForm,_Component);var _super=_createSuper(CreationForm);function CreationForm(props){var _this;_classCallCheck(this,CreationForm);_this=_super.call(this,props);_this.handleReset=function(){};_this._handleTextFieldChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleChange=function(event){console.log(event);};_this.setValue=function(newValue){_this.setState({city:newValue});};_this.handleChange=function(event){console.log(event);_this.setState({currency:event.target.value});};_this.state={firstname:\"\",lastname:\"\",mobile:\"\",comment:\"\",address:\"\",city:{},state:\"Albania\",price:\"\",currency:{currency:\"\"},open:false,vertical:\"top\",horizontal:\"center\",cities:[],currencies:[]};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this._handleTextFieldChange=_this._handleTextFieldChange.bind(_assertThisInitialized(_this));return _this;}_createClass(CreationForm,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"/city\").then(function(response){console.log(response);_this2.setState({cities:response.data});}).catch(function(error){console.log(error);});axios.get(\"/currency\").then(function(response){_this2.setState({currencies:response.data});}).catch(function(error){console.log(error);});}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this3=this;var _this$state=this.state,firstname=_this$state.firstname,lastname=_this$state.lastname,mobile=_this$state.mobile,comment=_this$state.comment,address=_this$state.address,city=_this$state.city,state=_this$state.state,price=_this$state.price,currency=_this$state.currency;var body={firstName:firstname,lastName:lastname,mobile:mobile,comment:comment,address:address,city:city,state:state,price:price,currency:currency};axios.post(\"/ticket\",body,{\"Content-Type\":\"application/json\"}).then(function(response){_this3.setState({open:true,vertical:\"bottom\",horizontal:\"center\"});window.location.reload();}).catch(function(error){console.log(\"login error\",error);});event.preventDefault();}},{key:\"render\",value:function render(){var _this4=this;var _this$state2=this.state,firstname=_this$state2.firstname,lastname=_this$state2.lastname,mobile=_this$state2.mobile,comment=_this$state2.comment,address=_this$state2.address,city=_this$state2.city,state=_this$state2.state,price=_this$state2.price,currency=_this$state2.currency,open=_this$state2.open,vertical=_this$state2.vertical,horizontal=_this$state2.horizontal;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Create new ticket\"),/*#__PURE__*/React.createElement(\"form\",{autoComplete:\"off\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:4},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"First name\",name:\"firstname\",value:firstname,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"Last name\",name:\"lastname\",value:lastname,onChange:this._handleTextFieldChange,color:\"secondary\"})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",type:\"tel\",label:\"Mobile\",name:\"mobile\",value:mobile,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"Comment\",name:\"comment\",value:comment,onChange:this._handleTextFieldChange,color:\"secondary\"})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"Address\",name:\"address\",value:address,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(Autocomplete,{style:{padding:\"10px\",width:\"95%\"},id:\"combo-box-demo\",options:this.state.cities,getOptionLabel:function getOptionLabel(option){return option.city;},getOptionSelected:function getOptionSelected(option,value){return option.city===value.city;},onChange:function onChange(event,newValue){_this4.setValue(newValue);},renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(TextField,Object.assign({},params,{label:\"City\",value:city}));}})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{disabled:true,style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"State\",color:\"secondary\",name:\"state\",value:state,onChange:this._handleTextFieldChange,required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:4},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",type:\"number\",label:\"Price\",name:\"price\",value:price,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:2},/*#__PURE__*/React.createElement(FormControl,{style:{padding:\"10px\",width:\"95%\"}},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-label\"},\"Currency\"),/*#__PURE__*/React.createElement(Select,{id:\"demo-simple-select\",value:currency,onChange:this.handleChange},this.state.currencies.map(function(currency){return/*#__PURE__*/React.createElement(MenuItem,{key:currency.id,value:currency},currency.currency);})))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",type:\"submit\"},\"Submit\")))),/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:vertical,horizontal:horizontal},open:open,message:\"Ticket created successfully\",key:vertical+horizontal}));}}]);return CreationForm;}(Component);export default withRouter(CreationForm);","map":{"version":3,"sources":["/home/xhesina/Desktop/courier-server/src/main/react-app/src/CreationForm/creationForm.js"],"names":["React","Component","TextField","Grid","Button","Snackbar","Autocomplete","InputLabel","MenuItem","FormControl","Select","axios","withRouter","CreationForm","props","handleReset","_handleTextFieldChange","e","setState","target","name","value","handleChange","event","console","log","setValue","newValue","city","currency","state","firstname","lastname","mobile","comment","address","price","open","vertical","horizontal","cities","currencies","handleSubmit","bind","get","then","response","data","catch","error","body","firstName","lastName","post","window","location","reload","preventDefault","padding","width","option","params","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport axios from \"axios\";\nimport { withRouter } from 'react-router-dom';\n\nclass CreationForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstname: \"\",\n      lastname: \"\",\n      mobile: \"\",\n      comment: \"\",\n      address: \"\",\n      city: {},\n      state: \"Albania\",\n      price: \"\",\n      currency:{\n        currency:\"\"\n      },\n      open: false,\n      vertical: \"top\",\n      horizontal: \"center\",\n      cities: [],\n      currencies: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this._handleTextFieldChange = this._handleTextFieldChange.bind(this);\n  }\n  componentDidMount() {\n    axios\n      .get(\"/city\")\n      .then((response) => {\n        console.log(response);\n        this.setState({ cities: response.data });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    axios\n      .get(\"/currency\")\n      .then((response) => {\n        this.setState({ currencies: response.data });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n  handleReset = () => {};\n  handleSubmit(event) {\n    const {\n      firstname,\n      lastname,\n      mobile,\n      comment,\n      address,\n      city,\n      state,\n      price,\n      currency\n    } = this.state;\n    let body = {\n      firstName: firstname,\n      lastName: lastname,\n      mobile: mobile,\n      comment: comment,\n      address: address,\n      city: city,\n      state: state,\n      price: price,\n      currency:currency\n    };\n    axios\n      .post(\"/ticket\", body, { \"Content-Type\": \"application/json\" })\n      .then((response) => {\n       \n        this.setState({ open: true, vertical: \"bottom\", horizontal: \"center\" });\n        window.location.reload();\n      })\n      .catch((error) => {\n        console.log(\"login error\", error);\n      });\n\n    event.preventDefault();\n  }\n  _handleTextFieldChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  handleChange = (event) => {\n    console.log(event);\n  };\n  setValue = (newValue) => {\n    this.setState({ city: newValue });\n  };\n   handleChange = (event) => {\n    console.log(event);\n    this.setState({currency:event.target.value})\n    \n  };\n  render() {\n    const {\n      firstname,\n      lastname,\n      mobile,\n      comment,\n      address,\n      city,\n      state,\n      price,\n      currency,\n      open,\n      vertical,\n      horizontal,\n    } = this.state;\n\n    return (\n      <div>\n        <h3>Create new ticket</h3>\n        <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n          <Grid container spacing={4}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                style={{ padding: \"10px\", width: \"95%\" }}\n                id=\"standard-secondary\"\n                label=\"First name\"\n                name=\"firstname\"\n                value={firstname}\n                onChange={this._handleTextFieldChange}\n                color=\"secondary\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                style={{ padding: \"10px\", width: \"95%\" }}\n                id=\"standard-secondary\"\n                label=\"Last name\"\n                name=\"lastname\"\n                value={lastname}\n                onChange={this._handleTextFieldChange}\n                color=\"secondary\"\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                style={{ padding: \"10px\", width: \"95%\" }}\n                id=\"standard-secondary\"\n                type=\"tel\"\n                label=\"Mobile\"\n                name=\"mobile\"\n                value={mobile}\n                onChange={this._handleTextFieldChange}\n                color=\"secondary\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                style={{ padding: \"10px\", width: \"95%\" }}\n                id=\"standard-secondary\"\n                label=\"Comment\"\n                name=\"comment\"\n                value={comment}\n                onChange={this._handleTextFieldChange}\n                color=\"secondary\"\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                style={{ padding: \"10px\", width: \"95%\" }}\n                id=\"standard-secondary\"\n                label=\"Address\"\n                name=\"address\"\n                value={address}\n                onChange={this._handleTextFieldChange}\n                color=\"secondary\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <Autocomplete\n                style={{ padding: \"10px\", width: \"95%\" }}\n                id=\"combo-box-demo\"\n                options={this.state.cities}\n                getOptionLabel={(option) => option.city}\n                getOptionSelected={(option, value) =>\n                  option.city === value.city\n                }\n                onChange={(event, newValue) => {\n                  this.setValue(newValue);\n                }}\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    label=\"City\"\n                    value={city}\n                  />\n                )}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                disabled\n                style={{ padding: \"10px\", width: \"95%\" }}\n                id=\"standard-secondary\"\n                label=\"State\"\n                color=\"secondary\"\n                name=\"state\"\n                value={state}\n                onChange={this._handleTextFieldChange}\n                required\n              />\n            </Grid>\n            <Grid item xs={12} sm={4}>\n              <TextField\n                style={{ padding: \"10px\", width: \"95%\" }}\n                id=\"standard-secondary\"\n                type=\"number\"\n                label=\"Price\"\n                name=\"price\"\n                value={price}\n                onChange={this._handleTextFieldChange}\n                color=\"secondary\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} sm={2}>\n              <FormControl  style={{ padding: \"10px\", width: \"95%\" }}>\n                <InputLabel id=\"demo-simple-select-label\">Currency</InputLabel>\n                <Select\n                  id=\"demo-simple-select\"\n                  value={currency}\n                  onChange={this.handleChange}\n                >\n                  {this.state.currencies.map((currency) => (\n                    <MenuItem key={currency.id} value={currency}>{currency.currency}</MenuItem>\n                  ))}\n                \n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <Button variant=\"contained\" color=\"secondary\" type=\"submit\">\n                Submit\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n        <Snackbar\n          anchorOrigin={{ vertical, horizontal }}\n          open={open}\n          message=\"Ticket created successfully\"\n          key={vertical + horizontal}\n        />\n      </div>\n    );\n  }\n}\nexport default withRouter (CreationForm);\n"]},"metadata":{},"sourceType":"module"}