{"ast":null,"code":"var _jsxFileName = \"/home/xhesina/Desktop/courier-server/src/main/react-app/src/Navbar/navbar.js\";\nimport React, { useEffect } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport { useHistory } from \"react-router-dom\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport axios from \"axios\";\nimport logo from \"../logo/logo/MemsLogowhite.svg\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: \"0 10px\",\n      width: \"100%\"\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"1200px\",\n      margin: \"0 auto\"\n    },\n    [theme.breakpoints.up(\"lg\")]: {\n      width: \"1200px\",\n      margin: \"0 auto\"\n    }\n  }\n}));\n\nfunction Navbar() {\n  const classes = useStyles();\n  const [user, setUser] = React.useState(null);\n  const username = localStorage.getItem(\"user\");\n\n  const logOut = e => {\n    e.preventDefault();\n    localStorage.removeItem(\"token\");\n    history.push(\"/login\");\n    window.location.reload();\n  };\n\n  const history = useHistory();\n\n  const redirectToUsers = () => {\n    history.push(\"/users\");\n  };\n\n  const redirectToHome = e => {\n    history.push(\"/\");\n    e.preventDefault();\n  };\n\n  const redirectToProfile = () => {\n    history.push(\"/profile\");\n  };\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  useEffect(() => {\n    let query = localStorage.getItem(\"user\");\n    axios.get(\"/user\", {\n      params: {\n        username: query\n      }\n    }).then(response => {\n      localStorage.setItem(\"userData\", JSON.stringify(response.data));\n      response.data.authorities.forEach(auth => {\n        if (auth.roleName === \"ADMIN\") {\n          setUser(\"ADMIN\");\n        } else setUser(null);\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    title: \"MEMS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    variant: \"dense\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    style: {\n      flex: \"2\",\n      textAlign: \"left\",\n      alignSelf: \"center\",\n      display: \"inline-flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: \"40px\",\n    height: \"50px\",\n    src: logo,\n    alt: \"MEMS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Breadcrumbs, {\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      cursor: \"pointer\",\n      marginLeft: \"20px\",\n      alignSelf: \"center\"\n    },\n    onClick: redirectToHome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Home\")), user != null ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      cursor: \"pointer\",\n      marginLeft: \"20px\",\n      alignSelf: \"center\"\n    },\n    onClick: redirectToUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, \"Users\")) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: \"1\",\n      textAlign: \"right\",\n      alignSelf: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"right\",\n      display: \"inline-flex\",\n      cursor: \"pointer\"\n    },\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(PersonIcon, {\n    style: {\n      fontSize: \"18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }), username), /*#__PURE__*/React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: redirectToProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, \"My Profile\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: logOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, \"Log out\")))))));\n}\n\nexport default Navbar;","map":{"version":3,"sources":["/home/xhesina/Desktop/courier-server/src/main/react-app/src/Navbar/navbar.js"],"names":["React","useEffect","AppBar","Toolbar","Typography","Breadcrumbs","makeStyles","PersonIcon","useHistory","Menu","MenuItem","axios","useStyles","theme","root","padding","spacing","breakpoints","down","margin","width","up","Navbar","classes","user","setUser","useState","username","localStorage","getItem","logOut","e","preventDefault","removeItem","history","push","window","location","reload","redirectToUsers","redirectToHome","redirectToProfile","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","query","get","params","then","response","setItem","JSON","stringify","data","authorities","forEach","auth","roleName","catch","error","console","log","display","flex","textAlign","alignSelf","logo","cursor","marginLeft","fontSize","Boolean"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport { useHistory } from \"react-router-dom\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport axios from \"axios\";\nimport logo from \"../logo/logo/MemsLogowhite.svg\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: \"0 10px\",\n      width: \"100%\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"1200px\",\n      margin: \"0 auto\",\n    },\n    [theme.breakpoints.up(\"lg\")]: {\n      width: \"1200px\",\n      margin: \"0 auto\",\n    },\n  },\n}));\n\nfunction Navbar() {\n  const classes = useStyles();\n  const [user, setUser] = React.useState(null);\n  const username = localStorage.getItem(\"user\");\n  const logOut = (e) => {\n    e.preventDefault();\n    localStorage.removeItem(\"token\");\n    history.push(\"/login\");\n    window.location.reload();\n  };\n  const history = useHistory();\n  const redirectToUsers = () => {\n    history.push(\"/users\");\n  };\n  const redirectToHome = (e) => {\n    history.push(\"/\");\n    e.preventDefault();\n  };\n  const redirectToProfile = () => {\n    history.push(\"/profile\");\n  };\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  useEffect(() => {\n    let query = localStorage.getItem(\"user\");\n\n    axios\n      .get(\"/user\", {\n        params: {\n          username: query,\n        },\n      })\n      .then((response) => {\n        localStorage.setItem(\"userData\",JSON.stringify(response.data))\n        response.data.authorities.forEach((auth) => {\n          if (auth.roleName === \"ADMIN\") {\n            setUser(\"ADMIN\");\n          } else setUser(null);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  });\n\n  return (\n    <div>\n      <AppBar position=\"static\" title=\"MEMS\">\n        <Toolbar variant=\"dense\">\n          <div className={classes.root} style={{ display: \"flex\" }}>\n            <Typography\n              variant=\"h6\"\n              color=\"inherit\"\n              style={{\n                flex: \"2\",\n                textAlign: \"left\",\n                alignSelf: \"center\",\n                display: \"inline-flex\",\n              }}\n            >\n              <img width=\"40px\" height=\"50px\" src={logo} alt=\"MEMS\"></img>\n              <Breadcrumbs aria-label=\"breadcrumb\"></Breadcrumbs>\n              <div\n                style={{ cursor: \"pointer\", marginLeft: \"20px\",   alignSelf: \"center\" }}\n                onClick={redirectToHome}\n              >\n                <span>Home</span>\n              </div>\n              {user != null ? (\n                <div\n                  style={{ cursor: \"pointer\", marginLeft: \"20px\",alignSelf: \"center\"  }}\n                  onClick={redirectToUsers}\n                >\n                  <span>Users</span>\n                </div>\n              ) : (\n                \"\"\n              )}\n            </Typography>\n            <div\n              style={{\n                flex: \"1\",\n                textAlign: \"right\",\n                alignSelf: \"center\",\n                \n              }}\n            >\n              <div\n                style={{\n                  textAlign:\"right\",\n                  display: \"inline-flex\",\n                  cursor: \"pointer\",\n                }}\n                onClick={handleClick}\n              >\n                <PersonIcon style={{ fontSize: \"18px\" }} />\n                {username}\n              </div>\n              <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n                <MenuItem onClick={redirectToProfile}>My Profile</MenuItem>\n                <MenuItem onClick={logOut}>Log out</MenuItem>\n              </Menu>\n            </div>\n          </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}