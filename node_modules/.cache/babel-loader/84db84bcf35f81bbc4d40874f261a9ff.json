{"ast":null,"code":"var _jsxFileName = \"/home/xhesina/Desktop/courier-server/src/main/react-app/src/TicketListings/tickets.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Select from \"@material-ui/core/Select\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport PrintIcon from \"@material-ui/icons/Print\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/styles\";\nimport { withRouter } from \"react-router-dom\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nconst styles = theme => ({\n  table: {\n    minWidth: 650\n  }\n});\n\nclass Tickets extends Component {\n  constructor(props) {\n    super(props);\n\n    this.goToPrintedForm = (e, ticket) => {\n      e.stopPropagation();\n      this.props.history.push({\n        pathname: `/print?ticket=${ticket.id}`,\n        state: {\n          ticket: ticket.id\n        }\n      });\n      window.location.reload();\n    };\n\n    this._handleTextFieldChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.changeStatus = (e, ticket) => {\n      this.setState({\n        selectedTicketStatus: ticket\n      });\n      e.stopPropagation();\n\n      if (ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state == \"REJECTED\" && ticket.rejected == false) {\n        if (ticket.users.username === localStorage.getItem(\"user\")) {\n          this.setState({\n            rejectedModal: true\n          });\n          this.setState({\n            openSnackBar: false\n          });\n        }\n      } else if (ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state == \"REJECTED\" && ticket.rejected == true) {\n        console.log(\"TESt\");\n        this.setState({\n          openSnackBar: true,\n          vertical: \"bottom\",\n          horizontal: \"center\",\n          message: \"Refuzimi eshte konfirmuar nga clienti\" + ticket.firstName + ticket.lastName\n        });\n      } else {\n        this.setState({\n          rejectedModal: false\n        });\n\n        if (!this.checkIfUserisOnlyClient()) {\n          this.setState({\n            openStatusDialog: true\n          });\n          this.setState({\n            selectedTicketStatus: ticket\n          });\n          this.setState({\n            comment: \"\"\n          });\n          this.setState({\n            distributingState: false\n          });\n        } else {\n          this.setState({\n            client: true\n          });\n        }\n\n        if (ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state == \"LIQUIDATED\") {\n          this.setState({\n            liquidated: true\n          });\n        } else this.setState({\n          liquidated: false\n        });\n\n        axios.get(\"/cargoState\").then(response => {\n          console.log(response);\n          this.setState({\n            cargoStates: response.data\n          });\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    };\n\n    this.handleClickOpen = ticket => {\n      this.setState({\n        open: true\n      });\n      this.setState({\n        selectedValue: ticket\n      });\n    };\n\n    this.handleClose = value => {\n      this.setState({\n        open: false\n      });\n      this.setState({\n        openStatusDialog: false\n      });\n      this.setState({\n        rejectedModal: false\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        status: event.target.value\n      });\n\n      if (event.target.value.state === \"DISTRIBUTING\") {\n        this.setState({\n          distributingState: true\n        });\n        axios.get(\"/user/authority\").then(response => {\n          console.log(response);\n          this.setState({\n            couriers: response.data\n          });\n        }).catch(error => {\n          console.log(error);\n        });\n      } else this.setState({\n        distributingState: false\n      });\n    };\n\n    this.handleCourierChange = event => {\n      this.setState({\n        courier: event.target.value\n      });\n    };\n\n    this.state = {\n      tickets: [],\n      open: false,\n      openStatusDialog: false,\n      selectedValue: {},\n      selectedTicketStatus: {},\n      searchValue: \"\",\n      cargoStates: [],\n      status: {},\n      distributingState: false,\n      couriers: [],\n      courier: \"\",\n      comment: \"\",\n      rejectedModal: false,\n      client: false,\n      liquidated: false,\n      admin: false,\n      vertical: \"bottom\",\n      horizontal: \"center\",\n      openSnackBar: false,\n      message: \"\"\n    };\n    this.handleClickOpen = this.handleClickOpen.bind(this);\n    this._handleTextFieldChange = this._handleTextFieldChange.bind(this);\n    this.changeCargoStatus = this.changeCargoStatus.bind(this);\n    this.confirmRejection = this.confirmRejection.bind(this);\n  }\n\n  checkIfUserisOnlyClient() {\n    let user = JSON.parse(localStorage.getItem(\"userData\"));\n    console.log(user);\n\n    if (user != null) {\n      if (user.authorities.length == 1 && user.authorities[0].roleName == \"CLIENT\") {\n        this.setState({\n          openSnackBar: true,\n          vertical: \"bottom\",\n          horizontal: \"center\",\n          message: \"Skeni akses\"\n        });\n        return true;\n      } else {\n        this.setState({\n          openSnackBar: false\n        });\n        return false;\n      }\n    } else return false;\n  }\n\n  confirmRejection() {\n    console.log(this.state.selectedTicketStatus);\n    var formData = new FormData();\n    formData.append(\"rejected\", true);\n    formData.append(\"ticketId\", this.state.selectedTicketStatus.id);\n    axios.post(\"/ticket/confirmRejectedTicket\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(response => {\n      console.log(response);\n      this.handleClose();\n      axios.get(\"/ticket\").then(responseTi => {\n        this.setState({\n          tickets: responseTi.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log(\"login error\", error);\n    });\n  }\n\n  componentDidMount() {\n    axios.get(\"/ticket\").then(response => {\n      console.log(response.data);\n      this.setState({\n        tickets: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  changeCargoStatus(event) {\n    const {\n      comment,\n      courier,\n      selectedTicketStatus,\n      status\n    } = this.state;\n    let body = {\n      cargoStateId: status.id,\n      comment: comment,\n      ticketId: selectedTicketStatus.id,\n      assignedId: courier.id\n    };\n    axios.post(\"/ticketProgress\", body, {\n      \"Content-Type\": \"application/json\"\n    }).then(response => {\n      console.log(response);\n      this.setState({\n        openStatusDialog: false\n      });\n      axios.get(\"/ticket\").then(response => {\n        this.setState({\n          tickets: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log(\"login error\", error);\n    });\n  }\n\n  render() {\n    var _selectedValue$ticket, _selectedValue$ticket2, _selectedTicketStatus, _selectedTicketStatus2, _selectedTicketStatus3, _selectedTicketStatus4, _selectedTicketStatus5, _selectedTicketStatus6, _selectedTicketStatus7, _selectedTicketStatus8, _selectedTicketStatus9, _selectedTicketStatus10, _selectedTicketStatus11, _selectedTicketStatus12, _selectedTicketStatus13;\n\n    const {\n      open,\n      selectedValue,\n      openStatusDialog,\n      selectedTicketStatus,\n      status,\n      cargoStates,\n      distributingState,\n      couriers,\n      courier,\n      comment,\n      rejectedModal,\n      client,\n      liquidated,\n      admin,\n      vertical,\n      horizontal,\n      openSnackBar,\n      message\n    } = this.state;\n    const {\n      classes\n    } = this.props;\n    let tickets = this.state.tickets.filter(ticket => {\n      return ticket.users.username.toLowerCase().indexOf(this.state.searchValue.toLowerCase()) !== -1 || ticket.address.toLowerCase().indexOf(this.state.searchValue.toLowerCase()) !== -1 || ticket.firstName.toLowerCase().indexOf(this.state.searchValue.toLowerCase()) !== -1 || ticket.lastName.toLowerCase().indexOf(this.state.searchValue.toLowerCase()) !== -1 || ticket.city.city.toLowerCase().indexOf(this.state.searchValue.toLowerCase()) !== -1 || ticket.state.toLowerCase().indexOf(this.state.searchValue.toLowerCase()) !== -1 || ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state.toLowerCase().indexOf(this.state.searchValue.toLowerCase()) !== -1;\n    });\n    let searchValue = this.state.searchValue;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }\n    }, \"Ticket Listings\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }\n    }, \" \", /*#__PURE__*/React.createElement(TextField, {\n      style: {\n        width: \"100%\"\n      },\n      id: \"standard-basic\",\n      label: \"Search\",\n      variant: \"outlined\",\n      name: \"searchValue\",\n      value: searchValue,\n      onChange: this._handleTextFieldChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Dialog, {\n      onClose: this.handleClose,\n      \"aria-labelledby\": \"simple-dialog-title\",\n      open: open,\n      maxWidth: \"lg\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"simple-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }\n    }, \"Ticket progress\"), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(DialogContent, {\n      style: {\n        padding: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      style: {\n        marginTop: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: classes.table,\n      \"aria-label\": \"simple table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 21\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }\n    }, \"Assigned to\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 21\n      }\n    }, \"Comment\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 17\n      }\n    }, ((_selectedValue$ticket = selectedValue.ticketProgress) === null || _selectedValue$ticket === void 0 ? void 0 : _selectedValue$ticket.length) ? selectedValue === null || selectedValue === void 0 ? void 0 : (_selectedValue$ticket2 = selectedValue.ticketProgress) === null || _selectedValue$ticket2 === void 0 ? void 0 : _selectedValue$ticket2.map(progress => {\n      var _progress$assigned;\n\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: progress.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Chip, {\n        label: progress.cargoState.description,\n        variant: \"default\",\n        style: {\n          backgroundColor: progress.cargoState.state === \"CREATED\" ? \"#c0bdc1e3\" : progress.cargoState.state === \"STORED\" ? \"#ff7100\" : progress.cargoState.state === \"DISTRIBUTING\" ? \"#4959bf\" : progress.cargoState.state === \"DELIVERED\" ? \"#00bf40\" : \"\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 27\n        }\n      }, \" \", new Date(progress.date).toLocaleDateString(\"en-US\"), \" \", new Date(progress.date).toLocaleTimeString(\"en-US\"), \" \"), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 27\n        }\n      }, progress.users.firstName, \" \", progress.users.lastName), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 27\n        }\n      }, progress === null || progress === void 0 ? void 0 : (_progress$assigned = progress.assigned) === null || _progress$assigned === void 0 ? void 0 : _progress$assigned.firstName), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 27\n        }\n      }, progress.comment));\n    }) : \"No data\"))))), /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      style: {\n        marginTop: \"20px\",\n        width: \"1100px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: classes.table,\n      \"aria-label\": \"simple table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 17\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 17\n      }\n    }, \"NO\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 17\n      }\n    }, \"State\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }\n    }, \"First name\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }\n    }, \"Last name\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 17\n      }\n    }, \"Mobile\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 17\n      }\n    }, \"Comment\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 17\n      }\n    }, \"City\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 17\n      }\n    }, \"State\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 17\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 17\n      }\n    }, \"Curreny\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 13\n      }\n    }, (tickets === null || tickets === void 0 ? void 0 : tickets.length) ? tickets.map(ticket => /*#__PURE__*/React.createElement(TableRow, {\n      key: ticket.id,\n      onClick: () => this.handleClickOpen(ticket),\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 23\n      }\n    }, new Date(ticket.date).toLocaleDateString(\"en-US\"), \" \", new Date(ticket.date).toLocaleTimeString(\"en-US\")), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 23\n      }\n    }, ticket.no), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      onClick: e => {\n        this.changeStatus(e, ticket);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 23\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Chip, {\n      label: ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.description,\n      variant: \"default\",\n      style: {\n        backgroundColor: ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state === \"CREATED\" ? \"#c0bdc1e3\" : ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state === \"STORED\" ? \"#ff7100\" : ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state === \"DISTRIBUTING\" ? \"#4959bf\" : ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state === \"DELIVERED\" ? \"#00bf40\" : ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state === \"REJECTED\" ? \"#ff2424\" : \"\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 23\n      }\n    }, ticket.firstName), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 23\n      }\n    }, ticket.lastName), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 23\n      }\n    }, ticket.mobile), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 23\n      }\n    }, ticket.comment), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 23\n      }\n    }, ticket.address), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 23\n      }\n    }, ticket.city.city), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 23\n      }\n    }, ticket.state), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 23\n      }\n    }, ticket.price), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 23\n      }\n    }, ticket.currency.currency), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(PrintIcon, {\n      style: {\n        color: \"#4c4a4adb\"\n      },\n      onClick: e => {\n        this.goToPrintedForm(e, ticket);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 25\n      }\n    })))) : \"No data\"))), liquidated == false ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Dialog, {\n      onClose: this.handleClose,\n      \"aria-labelledby\": \"simple-dialog-title\",\n      open: rejectedModal,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"simple-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 17\n      }\n    }, \"Confirm rejection\")), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(DialogContent, {\n      style: {\n        padding: \"20px\",\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 17\n      }\n    }, \"Konfirmo refuzimin e ticket\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"inline-flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.confirmRejection,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 19\n      }\n    }, \"Konfirmo\"), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        marginLeft: \"10px\"\n      },\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 19\n      }\n    }, \"Anullo\")))), /*#__PURE__*/React.createElement(Dialog, {\n      onClose: this.handleClose,\n      \"aria-labelledby\": \"simple-dialog-title\",\n      open: openStatusDialog,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"simple-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 17\n      }\n    }, \"Change ticket Status\")), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(DialogContent, {\n      style: {\n        padding: \"30px\",\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Chip, {\n      label: selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus2 = _selectedTicketStatus[(selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus3 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus3 === void 0 ? void 0 : _selectedTicketStatus3.length) - 1].cargoState) === null || _selectedTicketStatus2 === void 0 ? void 0 : _selectedTicketStatus2.description,\n      variant: \"default\",\n      style: {\n        backgroundColor: (selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus4 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus4 === void 0 ? void 0 : _selectedTicketStatus4[(selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus5 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus5 === void 0 ? void 0 : _selectedTicketStatus5.length) - 1].cargoState.state) === \"CREATED\" ? \"#c0bdc1e3\" : (selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus6 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus6 === void 0 ? void 0 : _selectedTicketStatus6[(selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus7 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus7 === void 0 ? void 0 : _selectedTicketStatus7.length) - 1].cargoState.state) === \"STORED\" ? \"#ff7100\" : (selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus8 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus8 === void 0 ? void 0 : _selectedTicketStatus8[(selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus9 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus9 === void 0 ? void 0 : _selectedTicketStatus9.length) - 1].cargoState.state) === \"DISTRIBUTING\" ? \"#4959bf\" : (selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus10 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus10 === void 0 ? void 0 : _selectedTicketStatus10[(selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus11 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus11 === void 0 ? void 0 : _selectedTicketStatus11.length) - 1].cargoState.state) === \"DELIVERED\" ? \"#00bf40\" : (selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus12 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus12 === void 0 ? void 0 : _selectedTicketStatus12[(selectedTicketStatus === null || selectedTicketStatus === void 0 ? void 0 : (_selectedTicketStatus13 = selectedTicketStatus.ticketProgress) === null || _selectedTicketStatus13 === void 0 ? void 0 : _selectedTicketStatus13.length) - 1].cargoState.state) === \"REJECTED\" ? \"#ff2424\" : \"\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      labelId: \"demo-simple-select-label\",\n      id: \"demo-simple-select\",\n      value: status,\n      onChange: this.handleChange,\n      style: {\n        width: \"100%\",\n        marginTop: \"40px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 19\n      }\n    }, cargoStates.map(state => /*#__PURE__*/React.createElement(MenuItem, {\n      key: state.id,\n      value: state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 23\n      }\n    }, state.description))), distributingState ? /*#__PURE__*/React.createElement(Select, {\n      labelId: \"demo-simple-select-label\",\n      id: \"demo-simple-select\",\n      value: courier,\n      onChange: this.handleCourierChange,\n      style: {\n        width: \"100%\",\n        marginTop: \"40px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 21\n      }\n    }, couriers.map(courier => /*#__PURE__*/React.createElement(MenuItem, {\n      key: courier.id,\n      value: courier,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 25\n      }\n    }, courier.username))) : \"\", /*#__PURE__*/React.createElement(TextField, {\n      style: {\n        padding: \"10px\",\n        width: \"95%\"\n      },\n      id: \"standard-secondary\",\n      label: \"Comment\",\n      name: \"comment\",\n      value: comment,\n      onChange: this._handleTextFieldChange,\n      color: \"secondary\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: this.changeCargoStatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 19\n      }\n    }, \"Submit\")))), /*#__PURE__*/React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical,\n        horizontal\n      },\n      open: openSnackBar,\n      message: message,\n      key: vertical + horizontal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 13\n      }\n    })) : /*#__PURE__*/React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical,\n        horizontal\n      },\n      open: \"true\",\n      message: \"Status i likuiduar\",\n      key: vertical + horizontal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nTickets.contextTypes = {\n  router: PropTypes.func\n};\nexport default withRouter(withStyles(styles)(Tickets));","map":{"version":3,"sources":["/home/xhesina/Desktop/courier-server/src/main/react-app/src/TicketListings/tickets.js"],"names":["React","Component","axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","DialogTitle","Dialog","DialogContent","Chip","Select","Divider","TextField","MenuItem","Button","PrintIcon","PropTypes","withStyles","withRouter","Snackbar","styles","theme","table","minWidth","Tickets","constructor","props","goToPrintedForm","e","ticket","stopPropagation","history","push","pathname","id","state","window","location","reload","_handleTextFieldChange","setState","target","name","value","changeStatus","selectedTicketStatus","ticketProgress","length","cargoState","rejected","users","username","localStorage","getItem","rejectedModal","openSnackBar","console","log","vertical","horizontal","message","firstName","lastName","checkIfUserisOnlyClient","openStatusDialog","comment","distributingState","client","liquidated","get","then","response","cargoStates","data","catch","error","handleClickOpen","open","selectedValue","handleClose","handleChange","event","status","couriers","handleCourierChange","courier","tickets","searchValue","admin","bind","changeCargoStatus","confirmRejection","user","JSON","parse","authorities","roleName","formData","FormData","append","post","headers","responseTi","componentDidMount","body","cargoStateId","ticketId","assignedId","render","classes","filter","toLowerCase","indexOf","address","city","height","width","padding","marginTop","map","progress","description","backgroundColor","Date","date","toLocaleDateString","toLocaleTimeString","assigned","cursor","no","mobile","price","currency","color","textAlign","display","marginLeft","contextTypes","router","func"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Select from \"@material-ui/core/Select\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport PrintIcon from \"@material-ui/icons/Print\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/styles\";\nimport { withRouter } from \"react-router-dom\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nconst styles = (theme) => ({\n  table: {\n    minWidth: 650,\n  },\n});\n\nclass Tickets extends Component {\n  static contextTypes = {\n    router: PropTypes.func,\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      tickets: [],\n      open: false,\n      openStatusDialog: false,\n      selectedValue: {},\n      selectedTicketStatus: {},\n      searchValue: \"\",\n      cargoStates: [],\n      status: {},\n      distributingState: false,\n      couriers: [],\n      courier: \"\",\n      comment: \"\",\n      rejectedModal: false,\n      client: false,\n      liquidated: false,\n      admin: false,\n      vertical: \"bottom\",\n      horizontal: \"center\",\n      openSnackBar: false,\n      message: \"\",\n    };\n    this.handleClickOpen = this.handleClickOpen.bind(this);\n    this._handleTextFieldChange = this._handleTextFieldChange.bind(this);\n    this.changeCargoStatus = this.changeCargoStatus.bind(this);\n    this.confirmRejection = this.confirmRejection.bind(this);\n  }\n\n  goToPrintedForm = (e, ticket) => {\n    e.stopPropagation();\n    this.props.history.push({\n      pathname: `/print?ticket=${ticket.id}`,\n      state: { ticket: ticket.id },\n    });\n    window.location.reload();\n  };\n  _handleTextFieldChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  checkIfUserisOnlyClient() {\n    let user = JSON.parse(localStorage.getItem(\"userData\"));\n    console.log(user);\n    if (user != null) {\n      if (\n        user.authorities.length == 1 &&\n        user.authorities[0].roleName == \"CLIENT\"\n      ) {\n        this.setState({\n          openSnackBar: true,\n          vertical: \"bottom\",\n          horizontal: \"center\",\n          message: \"Skeni akses\",\n        });\n        return true;\n      } else {\n        this.setState({ openSnackBar: false });\n        return false;\n      }\n    } else return false;\n  }\n\n  changeStatus = (e, ticket) => {\n    this.setState({ selectedTicketStatus: ticket });\n    e.stopPropagation();\n    if (\n      ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState\n        .state == \"REJECTED\" && ticket.rejected == false\n    ) {\n      if (ticket.users.username === localStorage.getItem(\"user\")) {\n        this.setState({ rejectedModal: true });\n        this.setState({ openSnackBar: false });\n      }\n    \n    } \n    else if ( ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState\n      .state == \"REJECTED\" && ticket.rejected == true){\n        console.log(\"TESt\")\n        this.setState({\n          openSnackBar: true,\n          vertical: \"bottom\",\n          horizontal: \"center\",\n          message: \"Refuzimi eshte konfirmuar nga clienti\" + ticket.firstName + ticket.lastName,\n        }); \n      }else {\n      this.setState({ rejectedModal: false });\n\n      if (!this.checkIfUserisOnlyClient()) {\n        this.setState({ openStatusDialog: true });\n        this.setState({ selectedTicketStatus: ticket });\n        this.setState({ comment: \"\" });\n        this.setState({ distributingState: false });\n      } else {\n        this.setState({ client: true });\n      }\n      if (\n        ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState\n          .state == \"LIQUIDATED\"\n      ) {\n        this.setState({ liquidated: true });\n      } else this.setState({ liquidated: false });\n\n      axios\n        .get(\"/cargoState\")\n        .then((response) => {\n          console.log(response);\n          this.setState({ cargoStates: response.data });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n  confirmRejection(){\n    console.log(this.state.selectedTicketStatus)\n    var formData = new FormData();\n    formData.append(\"rejected\", true);\n    formData.append(\"ticketId\", this.state.selectedTicketStatus.id);\n    \n    axios\n    .post(\"/ticket/confirmRejectedTicket\",  formData,{\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    })\n    .then((response) => {\n      console.log(response)\n      this.handleClose();\n      axios\n      .get(\"/ticket\")\n      .then((responseTi) => {\n        this.setState({ tickets: responseTi.data });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  \n    })\n    .catch((error) => {\n      console.log(\"login error\", error);\n    });\n  }\n  componentDidMount() {\n    axios\n      .get(\"/ticket\")\n      .then((response) => {\n        console.log(response.data)\n        this.setState({ tickets: response.data });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n  handleClickOpen = (ticket) => {\n    this.setState({ open: true });\n    this.setState({ selectedValue: ticket });\n  };\n\n  handleClose = (value) => {\n    this.setState({ open: false });\n    this.setState({ openStatusDialog: false });\n    this.setState({ rejectedModal: false });\n  };\n  handleChange = (event) => {\n    this.setState({ status: event.target.value });\n    if (event.target.value.state === \"DISTRIBUTING\") {\n      this.setState({ distributingState: true });\n      axios\n        .get(\"/user/authority\")\n        .then((response) => {\n          console.log(response);\n          this.setState({ couriers: response.data });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    } else this.setState({ distributingState: false });\n  };\n  handleCourierChange = (event) => {\n    this.setState({ courier: event.target.value });\n  };\n  changeCargoStatus(event) {\n    const { comment, courier, selectedTicketStatus, status } = this.state;\n    let body = {\n      cargoStateId: status.id,\n      comment: comment,\n      ticketId: selectedTicketStatus.id,\n      assignedId: courier.id,\n    };\n    axios\n      .post(\"/ticketProgress\", body, { \"Content-Type\": \"application/json\" })\n      .then((response) => {\n        console.log(response);\n        this.setState({ openStatusDialog: false });\n        axios\n          .get(\"/ticket\")\n          .then((response) => {\n            this.setState({ tickets: response.data });\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      })\n      .catch((error) => {\n        console.log(\"login error\", error);\n      });\n  }\n  render() {\n    const {\n      open,\n      selectedValue,\n      openStatusDialog,\n      selectedTicketStatus,\n      status,\n      cargoStates,\n      distributingState,\n      couriers,\n      courier,\n      comment,\n      rejectedModal,\n      client,\n      liquidated,\n      admin,\n      vertical,\n      horizontal,\n      openSnackBar,\n      message,\n    } = this.state;\n    const { classes } = this.props;\n    let tickets = this.state.tickets.filter((ticket) => {\n      return (\n        ticket.users.username\n          .toLowerCase()\n          .indexOf(this.state.searchValue.toLowerCase()) !== -1 ||\n        ticket.address\n          .toLowerCase()\n          .indexOf(this.state.searchValue.toLowerCase()) !== -1 ||\n        ticket.firstName\n          .toLowerCase()\n          .indexOf(this.state.searchValue.toLowerCase()) !== -1 ||\n        ticket.lastName\n          .toLowerCase()\n          .indexOf(this.state.searchValue.toLowerCase()) !== -1 ||\n        ticket.city.city\n          .toLowerCase()\n          .indexOf(this.state.searchValue.toLowerCase()) !== -1 ||\n        ticket.state\n          .toLowerCase()\n          .indexOf(this.state.searchValue.toLowerCase()) !== -1 ||\n        ticket.ticketProgress[ticket.ticketProgress.length - 1].cargoState.state\n          .toLowerCase()\n          .indexOf(this.state.searchValue.toLowerCase()) !== -1\n      );\n    });\n    let searchValue = this.state.searchValue;\n    return (\n      <div style={{ height: \"100%\" }}>\n        <h3>Ticket Listings</h3>\n        <div>\n          {\" \"}\n          <TextField\n            style={{ width: \"100%\" }}\n            id=\"standard-basic\"\n            label=\"Search\"\n            variant=\"outlined\"\n            name=\"searchValue\"\n            value={searchValue}\n            onChange={this._handleTextFieldChange}\n          />\n        </div>\n        <Dialog\n          onClose={this.handleClose}\n          aria-labelledby=\"simple-dialog-title\"\n          open={open}\n          maxWidth={\"lg\"}\n          fullWidth={true}\n        >\n          <DialogTitle id=\"simple-dialog-title\">Ticket progress</DialogTitle>\n          <Divider />\n          <DialogContent style={{ padding: \"30px\" }}>\n            <TableContainer component={Paper} style={{ marginTop: \"20px\" }}>\n              <Table className={classes.table} aria-label=\"simple table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell align=\"left\">Status</TableCell>\n                    <TableCell align=\"left\">Date</TableCell>\n                    <TableCell align=\"left\">Name</TableCell>\n                    <TableCell align=\"left\">Assigned to</TableCell>\n                    <TableCell align=\"left\">Comment</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {selectedValue.ticketProgress?.length\n                    ? selectedValue?.ticketProgress?.map((progress) => (\n                        <TableRow key={progress.id}>\n                          <TableCell align=\"left\">\n                            <Chip\n                              label={progress.cargoState.description}\n                              variant=\"default\"\n                              style={{\n                                backgroundColor:\n                                  progress.cargoState.state === \"CREATED\"\n                                    ? \"#c0bdc1e3\"\n                                    : progress.cargoState.state === \"STORED\"\n                                    ? \"#ff7100\"\n                                    : progress.cargoState.state ===\n                                      \"DISTRIBUTING\"\n                                    ? \"#4959bf\"\n                                    : progress.cargoState.state === \"DELIVERED\"\n                                    ? \"#00bf40\"\n                                    : \"\",\n                              }}\n                            />\n                          </TableCell>\n                          <TableCell align=\"left\">\n                            {\" \"}\n                            {new Date(progress.date).toLocaleDateString(\n                              \"en-US\"\n                            )}{\" \"}\n                            {new Date(progress.date).toLocaleTimeString(\n                              \"en-US\"\n                            )}{\" \"}\n                          </TableCell>\n                          <TableCell align=\"left\">\n                            {progress.users.firstName} {progress.users.lastName}\n                          </TableCell>\n                          <TableCell align=\"left\">\n                            {progress?.assigned?.firstName}\n                          </TableCell>\n                          <TableCell align=\"left\">{progress.comment}</TableCell>\n                        </TableRow>\n                      ))\n                    : \"No data\"}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </DialogContent>\n        </Dialog>\n        <TableContainer component={Paper} style={{ marginTop: \"20px\",width:\"1100px\" }}>\n          <Table className={classes.table} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Date</TableCell>\n                <TableCell>NO</TableCell>\n                <TableCell>State</TableCell>\n                <TableCell align=\"right\">First name</TableCell>\n                <TableCell align=\"right\">Last name</TableCell>\n                <TableCell align=\"right\">Mobile</TableCell>\n                <TableCell align=\"right\">Comment</TableCell>\n                <TableCell align=\"right\">Address</TableCell>\n                <TableCell align=\"right\">City</TableCell>\n                <TableCell align=\"right\">State</TableCell>\n                <TableCell align=\"right\">Price</TableCell>\n                <TableCell align=\"right\">Curreny</TableCell>\n                <TableCell align=\"right\"></TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {tickets?.length\n                ? tickets.map((ticket) => (\n                    <TableRow\n                      key={ticket.id}\n                      onClick={() => this.handleClickOpen(ticket)}\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      <TableCell component=\"th\" scope=\"row\">\n                        {new Date(ticket.date).toLocaleDateString(\"en-US\")}{\" \"}\n                        {new Date(ticket.date).toLocaleTimeString(\"en-US\")}\n                      </TableCell>\n                      <TableCell align=\"right\">{ticket.no}</TableCell>\n                      <TableCell\n                        align=\"right\"\n                        onClick={(e) => {\n                          this.changeStatus(e, ticket);\n                        }}\n                      >\n                        {\" \"}\n                        <Chip\n                          label={\n                            ticket.ticketProgress[\n                              ticket.ticketProgress.length - 1\n                            ].cargoState.description\n                          }\n                          variant=\"default\"\n                          style={{\n                            backgroundColor:\n                              ticket.ticketProgress[\n                                ticket.ticketProgress.length - 1\n                              ].cargoState.state === \"CREATED\"\n                                ? \"#c0bdc1e3\"\n                                : ticket.ticketProgress[\n                                    ticket.ticketProgress.length - 1\n                                  ].cargoState.state === \"STORED\"\n                                ? \"#ff7100\"\n                                : ticket.ticketProgress[\n                                    ticket.ticketProgress.length - 1\n                                  ].cargoState.state === \"DISTRIBUTING\"\n                                ? \"#4959bf\"\n                                : ticket.ticketProgress[\n                                    ticket.ticketProgress.length - 1\n                                  ].cargoState.state === \"DELIVERED\"\n                                ? \"#00bf40\"\n                                : ticket.ticketProgress[\n                                    ticket.ticketProgress.length - 1\n                                  ].cargoState.state === \"REJECTED\"\n                                ? \"#ff2424\"\n                                : \"\",\n                          }}\n                        />\n                      </TableCell>\n                      <TableCell align=\"right\">{ticket.firstName}</TableCell>\n                      <TableCell align=\"right\">{ticket.lastName}</TableCell>\n                      <TableCell align=\"right\">{ticket.mobile}</TableCell>\n                      <TableCell align=\"right\">{ticket.comment}</TableCell>\n                      <TableCell align=\"right\">{ticket.address}</TableCell>\n                      <TableCell align=\"right\">{ticket.city.city}</TableCell>\n                      <TableCell align=\"right\">{ticket.state}</TableCell>\n                      <TableCell align=\"right\">{ticket.price}</TableCell>\n                      <TableCell align=\"right\">\n                        {ticket.currency.currency}\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        <PrintIcon\n                          style={{ color: \"#4c4a4adb\" }}\n                          onClick={(e) => {\n                            this.goToPrintedForm(e, ticket);\n                          }}\n                        />\n                      </TableCell>\n                    </TableRow>\n                  ))\n                : \"No data\"}\n            </TableBody>\n          </Table>\n        </TableContainer>\n\n        {liquidated == false ? (\n          <div>\n            <Dialog\n              onClose={this.handleClose}\n              aria-labelledby=\"simple-dialog-title\"\n              open={rejectedModal}\n              maxWidth={\"sm\"}\n              fullWidth={true}\n            >\n              <DialogTitle id=\"simple-dialog-title\">\n                <p>Confirm rejection</p>\n              </DialogTitle>\n              <Divider />\n              <DialogContent style={{ padding: \"20px\", textAlign: \"center\" }}>\n                <h4>Konfirmo refuzimin e ticket</h4>\n                <div style={{ display: \"inline-flex\" }}>\n                  <Button variant=\"contained\" color=\"primary\" onClick={this.confirmRejection}>\n                    Konfirmo\n                  </Button>\n                  <Button style={{marginLeft:\"10px\"}}variant=\"contained\" color=\"secondary\" onClick={this.handleClose}>\n                    Anullo\n                  </Button>\n                </div>\n              </DialogContent>\n            </Dialog>\n            <Dialog\n              onClose={this.handleClose}\n              aria-labelledby=\"simple-dialog-title\"\n              open={openStatusDialog}\n              maxWidth={\"sm\"}\n              fullWidth={true}\n            >\n              <DialogTitle id=\"simple-dialog-title\">\n                <p>Change ticket Status</p>\n              </DialogTitle>\n              <Divider />\n              <DialogContent style={{ padding: \"30px\", textAlign: \"center\" }}>\n                <Chip\n                  label={\n                    selectedTicketStatus?.ticketProgress?.[\n                      selectedTicketStatus?.ticketProgress?.length - 1\n                    ].cargoState?.description\n                  }\n                  variant=\"default\"\n                  style={{\n                    backgroundColor:\n                      selectedTicketStatus?.ticketProgress?.[\n                        selectedTicketStatus?.ticketProgress?.length - 1\n                      ].cargoState.state === \"CREATED\"\n                        ? \"#c0bdc1e3\"\n                        : selectedTicketStatus?.ticketProgress?.[\n                            selectedTicketStatus?.ticketProgress?.length - 1\n                          ].cargoState.state === \"STORED\"\n                        ? \"#ff7100\"\n                        : selectedTicketStatus?.ticketProgress?.[\n                            selectedTicketStatus?.ticketProgress?.length - 1\n                          ].cargoState.state === \"DISTRIBUTING\"\n                        ? \"#4959bf\"\n                        : selectedTicketStatus?.ticketProgress?.[\n                            selectedTicketStatus?.ticketProgress?.length - 1\n                          ].cargoState.state === \"DELIVERED\"\n                        ? \"#00bf40\"\n                        : selectedTicketStatus?.ticketProgress?.[\n                            selectedTicketStatus?.ticketProgress?.length - 1\n                          ].cargoState.state === \"REJECTED\"\n                        ? \"#ff2424\"\n                        : \"\",\n                  }}\n                />\n                <div>\n                  <Select\n                    labelId=\"demo-simple-select-label\"\n                    id=\"demo-simple-select\"\n                    value={status}\n                    onChange={this.handleChange}\n                    style={{ width: \"100%\", marginTop: \"40px\" }}\n                  >\n                    {cargoStates.map((state) => (\n                      <MenuItem key={state.id} value={state}>\n                        {state.description}\n                      </MenuItem>\n                    ))}\n                  </Select>\n\n                  {distributingState ? (\n                    <Select\n                      labelId=\"demo-simple-select-label\"\n                      id=\"demo-simple-select\"\n                      value={courier}\n                      onChange={this.handleCourierChange}\n                      style={{ width: \"100%\", marginTop: \"40px\" }}\n                    >\n                      {couriers.map((courier) => (\n                        <MenuItem key={courier.id} value={courier}>\n                          {courier.username}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  ) : (\n                    \"\"\n                  )}\n                  <TextField\n                    style={{ padding: \"10px\", width: \"95%\" }}\n                    id=\"standard-secondary\"\n                    label=\"Comment\"\n                    name=\"comment\"\n                    value={comment}\n                    onChange={this._handleTextFieldChange}\n                    color=\"secondary\"\n                    required\n                  />\n                  <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    onClick={this.changeCargoStatus}\n                  >\n                    Submit\n                  </Button>\n                </div>\n              </DialogContent>\n            </Dialog>\n            <Snackbar\n              anchorOrigin={{ vertical, horizontal }}\n              open={openSnackBar}\n              message={message}\n              key={vertical + horizontal}\n            />\n          </div>\n        ) : (\n          <Snackbar\n            anchorOrigin={{ vertical, horizontal }}\n            open=\"true\"\n            message=\"Status i likuiduar\"\n            key={vertical + horizontal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(Tickets));\n"]},"metadata":{},"sourceType":"module"}