{"ast":null,"code":"import _defineProperty from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/xhesina/Desktop/courier-server/src/main/react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Wrapper from\"../Wrapper\";import Fab from\"@material-ui/core/Fab\";import AddIcon from\"@material-ui/icons/Add\";import ClearIcon from\"@material-ui/icons/Clear\";import axios from\"axios\";import Select from\"@material-ui/core/Select\";import InputLabel from\"@material-ui/core/InputLabel\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import TextField from\"@material-ui/core/TextField\";import Grid from\"@material-ui/core/Grid\";import Checkbox from\"@material-ui/core/Checkbox\";import Button from\"@material-ui/core/Button\";import Snackbar from\"@material-ui/core/Snackbar\";import ListItemText from\"@material-ui/core/ListItemText\";import Input from\"@material-ui/core/Input\";import UserListings from\"./userListings\";var Users=/*#__PURE__*/function(_Component){_inherits(Users,_Component);var _super=_createSuper(Users);function Users(props){var _this;_classCallCheck(this,Users);_this=_super.call(this,props);_this.state={creationForm:false};_this._handleTextFieldChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleChange=function(event){_this.setState({authorities:event.target.value});};_this.state={firstName:\"\",lastName:\"\",username:\"\",email:\"\",address:\"\",phone:\"\",authorities:[],authorityNames:[],open:false,vertical:\"top\",horizontal:\"center\"};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this._handleTextFieldChange=_this._handleTextFieldChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Users,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"/authority\").then(function(response){_this2.setState({authorityNames:response.data});}).catch(function(error){console.log(error);});}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this3=this;var _this$state=this.state,firstName=_this$state.firstName,lastName=_this$state.lastName,username=_this$state.username,email=_this$state.email,address=_this$state.address,phone=_this$state.phone,authorities=_this$state.authorities;var body={firstName:firstName,lastName:lastName,username:username,email:email,address:address,phone:phone,authority:authorities};axios.post(\"/user/create\",body,{\"Content-Type\":\"application/json\"}).then(function(response){_this3.setState({open:true,vertical:\"bottom\",horizontal:\"center\"});window.location.reload();}).catch(function(error){console.log(\"login error\",error);});event.preventDefault();}},{key:\"render\",value:function render(){var _this4=this;var _this$state2=this.state,firstName=_this$state2.firstName,lastName=_this$state2.lastName,username=_this$state2.username,email=_this$state2.email,address=_this$state2.address,phone=_this$state2.phone,authorities=_this$state2.authorities,open=_this$state2.open,vertical=_this$state2.vertical,horizontal=_this$state2.horizontal;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Wrapper,null,/*#__PURE__*/React.createElement(Fab,{style:{float:\"right\"},color:\"secondary\",\"aria-label\":\"add\",onClick:function onClick(){_this4.setState({creationForm:!_this4.state.creationForm});}},!this.state.creationForm?/*#__PURE__*/React.createElement(AddIcon,null):/*#__PURE__*/React.createElement(ClearIcon,null)),this.state.creationForm?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\" Create new user \"),/*#__PURE__*/React.createElement(\"form\",{autoComplete:\"off\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:4},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"First name\",name:\"firstName\",value:firstName,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"Last name\",name:\"lastName\",value:lastName,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"Username\",name:\"username\",value:username,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},type:\"email\",id:\"standard-secondary\",label:\"Email\",name:\"email\",value:email,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},id:\"standard-secondary\",label:\"Address\",name:\"address\",value:address,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(TextField,{style:{padding:\"10px\",width:\"95%\"},type:\"number\",id:\"standard-secondary\",label:\"Phone\",name:\"phone\",value:phone,onChange:this._handleTextFieldChange,color:\"secondary\",required:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(FormControl,{style:{padding:\"10px\",width:\"95%\"}},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-mutiple-checkbox-label\"},\"Authorities\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-mutiple-checkbox-label\",id:\"demo-mutiple-checkbox\",multiple:true,value:authorities,onChange:this.handleChange,input:/*#__PURE__*/React.createElement(Input,null),renderValue:function renderValue(selected){var strArr=selected.map(function(s){return s.authority;});return strArr.join(\", \");}},this.state.authorityNames.map(function(name){return/*#__PURE__*/React.createElement(MenuItem,{key:name.id,value:name},/*#__PURE__*/React.createElement(Checkbox,{checked:authorities.indexOf(name)>-1}),/*#__PURE__*/React.createElement(ListItemText,{primary:name.authority}));})))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",type:\"submit\"},\"Submit\")))),/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:vertical,horizontal:horizontal},open:open,message:\"User created successfully\",key:vertical+horizontal})):/*#__PURE__*/React.createElement(UserListings,null)));}}]);return Users;}(Component);export default Users;","map":{"version":3,"sources":["/home/xhesina/Desktop/courier-server/src/main/react-app/src/UserActions/users.js"],"names":["React","Component","Wrapper","Fab","AddIcon","ClearIcon","axios","Select","InputLabel","MenuItem","FormControl","TextField","Grid","Checkbox","Button","Snackbar","ListItemText","Input","UserListings","Users","props","state","creationForm","_handleTextFieldChange","e","setState","target","name","value","handleChange","event","authorities","firstName","lastName","username","email","address","phone","authorityNames","open","vertical","horizontal","handleSubmit","bind","get","then","response","data","catch","error","console","log","body","authority","post","window","location","reload","preventDefault","float","padding","width","selected","strArr","map","s","join","id","indexOf"],"mappings":"8zBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,GAEMC,CAAAA,K,8FAIJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EADiB,MAHnBC,KAGmB,CAHX,CACNC,YAAY,CAAE,KADR,CAGW,OA6BnBC,sBA7BmB,CA6BM,SAACC,CAAD,CAAO,CAC9B,MAAKC,QAAL,oBACGD,CAAC,CAACE,MAAF,CAASC,IADZ,CACmBH,CAAC,CAACE,MAAF,CAASE,KAD5B,GAGD,CAjCkB,OAkCnBC,YAlCmB,CAkCJ,SAACC,KAAD,CAAW,CACxB,MAAKL,QAAL,CAAc,CAAEM,WAAW,CAAED,KAAK,CAACJ,MAAN,CAAaE,KAA5B,CAAd,EACD,CApCkB,CAEjB,MAAKP,KAAL,CAAa,CACXW,SAAS,CAAE,EADA,CAEXC,QAAQ,CAAE,EAFC,CAGXC,QAAQ,CAAE,EAHC,CAIXC,KAAK,CAAE,EAJI,CAKXC,OAAO,CAAE,EALE,CAMXC,KAAK,CAAE,EANI,CAOXN,WAAW,CAAE,EAPF,CAQXO,cAAc,CAAE,EARL,CASXC,IAAI,CAAE,KATK,CAUXC,QAAQ,CAAE,KAVC,CAWXC,UAAU,CAAE,QAXD,CAAb,CAaA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKpB,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BoB,IAA5B,+BAA9B,CAhBiB,aAiBlB,C,+EACmB,iBAClBrC,KAAK,CACFsC,GADH,CACO,YADP,EAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,MAAI,CAACrB,QAAL,CAAc,CAAEa,cAAc,CAAEQ,QAAQ,CAACC,IAA3B,CAAd,EACD,CAJH,EAKGC,KALH,CAKS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAPH,EASD,C,kDASYnB,K,CAAO,iCASd,KAAKT,KATS,CAEhBW,SAFgB,aAEhBA,SAFgB,CAGhBC,QAHgB,aAGhBA,QAHgB,CAIhBC,QAJgB,aAIhBA,QAJgB,CAKhBC,KALgB,aAKhBA,KALgB,CAMhBC,OANgB,aAMhBA,OANgB,CAOhBC,KAPgB,aAOhBA,KAPgB,CAQhBN,WARgB,aAQhBA,WARgB,CAUlB,GAAIqB,CAAAA,IAAI,CAAG,CACTpB,SAAS,CAAEA,SADF,CAETC,QAAQ,CAAEA,QAFD,CAGTC,QAAQ,CAAEA,QAHD,CAITC,KAAK,CAAEA,KAJE,CAKTC,OAAO,CAAEA,OALA,CAMTC,KAAK,CAAEA,KANE,CAOTgB,SAAS,CAAEtB,WAPF,CAAX,CASAzB,KAAK,CACFgD,IADH,CACQ,cADR,CACwBF,IADxB,CAC8B,CAAE,eAAgB,kBAAlB,CAD9B,EAEGP,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,MAAI,CAACrB,QAAL,CAAc,CAAEc,IAAI,CAAE,IAAR,CAAcC,QAAQ,CAAE,QAAxB,CAAkCC,UAAU,CAAE,QAA9C,CAAd,EACAc,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CALH,EAMGT,KANH,CAMS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BF,KAA3B,EACD,CARH,EAUAnB,KAAK,CAAC4B,cAAN,GACD,C,uCACQ,kCAYH,KAAKrC,KAZF,CAELW,SAFK,cAELA,SAFK,CAGLC,QAHK,cAGLA,QAHK,CAILC,QAJK,cAILA,QAJK,CAKLC,KALK,cAKLA,KALK,CAMLC,OANK,cAMLA,OANK,CAOLC,KAPK,cAOLA,KAPK,CAQLN,WARK,cAQLA,WARK,CASLQ,IATK,cASLA,IATK,CAULC,QAVK,cAULA,QAVK,CAWLC,UAXK,cAWLA,UAXK,CAaP,mBACE,4CACE,oBAAC,OAAD,mBACE,oBAAC,GAAD,EACE,KAAK,CAAE,CAAEkB,KAAK,CAAE,OAAT,CADT,CAEE,KAAK,CAAC,WAFR,CAGE,aAAW,KAHb,CAIE,OAAO,CAAE,kBAAM,CACb,MAAI,CAAClC,QAAL,CAAc,CAAEH,YAAY,CAAE,CAAC,MAAI,CAACD,KAAL,CAAWC,YAA5B,CAAd,EACD,CANH,EAQG,CAAC,KAAKD,KAAL,CAAWC,YAAZ,cAA2B,oBAAC,OAAD,MAA3B,cAAyC,oBAAC,SAAD,MAR5C,CADF,CAWG,KAAKD,KAAL,CAAWC,YAAX,cACC,4CACE,kDADF,cAEE,4BAAM,YAAY,CAAC,KAAnB,CAAyB,QAAQ,CAAE,KAAKoB,YAAxC,eACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,eACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,eACE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAEkB,OAAO,CAAE,MAAX,CAAmBC,KAAK,CAAE,KAA1B,CADT,CAEE,EAAE,CAAC,oBAFL,CAGE,KAAK,CAAC,YAHR,CAIE,IAAI,CAAC,WAJP,CAKE,KAAK,CAAE7B,SALT,CAME,QAAQ,CAAE,KAAKT,sBANjB,CAOE,KAAK,CAAC,WAPR,CAQE,QAAQ,KARV,EADF,CADF,cAaE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,eACE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAEqC,OAAO,CAAE,MAAX,CAAmBC,KAAK,CAAE,KAA1B,CADT,CAEE,EAAE,CAAC,oBAFL,CAGE,KAAK,CAAC,WAHR,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAE5B,QALT,CAME,QAAQ,CAAE,KAAKV,sBANjB,CAOE,KAAK,CAAC,WAPR,CAQE,QAAQ,KARV,EADF,CAbF,cAyBE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,eACE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAEqC,OAAO,CAAE,MAAX,CAAmBC,KAAK,CAAE,KAA1B,CADT,CAEE,EAAE,CAAC,oBAFL,CAGE,KAAK,CAAC,UAHR,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAE3B,QALT,CAME,QAAQ,CAAE,KAAKX,sBANjB,CAOE,KAAK,CAAC,WAPR,CAQE,QAAQ,KARV,EADF,CAzBF,cAqCE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,eACE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAEqC,OAAO,CAAE,MAAX,CAAmBC,KAAK,CAAE,KAA1B,CADT,CAEE,IAAI,CAAC,OAFP,CAGE,EAAE,CAAC,oBAHL,CAIE,KAAK,CAAC,OAJR,CAKE,IAAI,CAAC,OALP,CAME,KAAK,CAAE1B,KANT,CAOE,QAAQ,CAAE,KAAKZ,sBAPjB,CAQE,KAAK,CAAC,WARR,CASE,QAAQ,KATV,EADF,CArCF,cAkDE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,eACE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAEqC,OAAO,CAAE,MAAX,CAAmBC,KAAK,CAAE,KAA1B,CADT,CAEE,EAAE,CAAC,oBAFL,CAGE,KAAK,CAAC,SAHR,CAIE,IAAI,CAAC,SAJP,CAKE,KAAK,CAAEzB,OALT,CAME,QAAQ,CAAE,KAAKb,sBANjB,CAOE,KAAK,CAAC,WAPR,CAQE,QAAQ,KARV,EADF,CAlDF,cA8DE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,eACE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAEqC,OAAO,CAAE,MAAX,CAAmBC,KAAK,CAAE,KAA1B,CADT,CAEE,IAAI,CAAC,QAFP,CAGE,EAAE,CAAC,oBAHL,CAIE,KAAK,CAAC,OAJR,CAKE,IAAI,CAAC,OALP,CAME,KAAK,CAAExB,KANT,CAOE,QAAQ,CAAE,KAAKd,sBAPjB,CAQE,KAAK,CAAC,WARR,CASE,QAAQ,KATV,EADF,CA9DF,cA2EE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,eACE,oBAAC,WAAD,EAAa,KAAK,CAAE,CAAEqC,OAAO,CAAE,MAAX,CAAmBC,KAAK,CAAE,KAA1B,CAApB,eACE,oBAAC,UAAD,EAAY,EAAE,CAAC,6BAAf,gBADF,cAIE,oBAAC,MAAD,EACE,OAAO,CAAC,6BADV,CAEE,EAAE,CAAC,uBAFL,CAGE,QAAQ,KAHV,CAIE,KAAK,CAAE9B,WAJT,CAKE,QAAQ,CAAE,KAAKF,YALjB,CAME,KAAK,cAAE,oBAAC,KAAD,MANT,CAOE,WAAW,CAAE,qBAACiC,QAAD,CAAc,CACzB,GAAIC,CAAAA,MAAM,CAAGD,QAAQ,CAACE,GAAT,CAAa,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACZ,SAAN,EAAd,CAAb,CACA,MAAQU,CAAAA,MAAM,CAACG,IAAP,CAAY,IAAZ,CAAR,CACD,CAVH,EAWG,KAAK7C,KAAL,CAAWiB,cAAX,CAA0B0B,GAA1B,CAA8B,SAACrC,IAAD,qBAC7B,oBAAC,QAAD,EAAU,GAAG,CAAEA,IAAI,CAACwC,EAApB,CAAwB,KAAK,CAAExC,IAA/B,eACE,oBAAC,QAAD,EACE,OAAO,CAAEI,WAAW,CAACqC,OAAZ,CAAoBzC,IAApB,EAA4B,CAAC,CADxC,EADF,cAIE,oBAAC,YAAD,EAAc,OAAO,CAAEA,IAAI,CAAC0B,SAA5B,EAJF,CAD6B,EAA9B,CAXH,CAJF,CADF,CA3EF,cAsGE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,WAAlC,CAA8C,IAAI,CAAC,QAAnD,WADF,CAtGF,CADF,CAFF,cAgHE,oBAAC,QAAD,EACE,YAAY,CAAE,CAAEb,QAAQ,CAARA,QAAF,CAAYC,UAAU,CAAVA,UAAZ,CADhB,CAEE,IAAI,CAAEF,IAFR,CAGE,OAAO,CAAC,2BAHV,CAIE,GAAG,CAAEC,QAAQ,CAAGC,UAJlB,EAhHF,CADD,cAyHC,oBAAC,YAAD,MApIJ,CADF,CADF,CA2ID,C,mBAhOiBxC,S,EAmOpB,cAAekB,CAAAA,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Wrapper from \"../Wrapper\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport axios from \"axios\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Button from \"@material-ui/core/Button\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Input from \"@material-ui/core/Input\";\nimport UserListings from \"./userListings\";\n\nclass Users extends Component {\n  state = {\n    creationForm: false,\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      username: \"\",\n      email: \"\",\n      address: \"\",\n      phone: \"\",\n      authorities: [],\n      authorityNames: [],\n      open: false,\n      vertical: \"top\",\n      horizontal: \"center\",\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this._handleTextFieldChange = this._handleTextFieldChange.bind(this);\n  }\n  componentDidMount() {\n    axios\n      .get(\"/authority\")\n      .then((response) => {\n        this.setState({ authorityNames: response.data });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n      \n  }\n  _handleTextFieldChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n  handleChange = (event) => {\n    this.setState({ authorities: event.target.value });\n  };\n  handleSubmit(event) {\n    const {\n      firstName,\n      lastName,\n      username,\n      email,\n      address,\n      phone,\n      authorities,\n    } = this.state;\n    let body = {\n      firstName: firstName,\n      lastName: lastName,\n      username: username,\n      email: email,\n      address: address,\n      phone: phone,\n      authority: authorities\n    };\n    axios\n      .post(\"/user/create\", body, { \"Content-Type\": \"application/json\" })\n      .then((response) => {\n        this.setState({ open: true, vertical: \"bottom\", horizontal: \"center\" });\n        window.location.reload();\n      })\n      .catch((error) => {\n        console.log(\"login error\", error);\n      });\n\n    event.preventDefault();\n  }\n  render() {\n    const {\n      firstName,\n      lastName,\n      username,\n      email,\n      address,\n      phone,\n      authorities,\n      open,\n      vertical,\n      horizontal,\n    } = this.state;\n    return (\n      <div>\n        <Wrapper>\n          <Fab\n            style={{ float: \"right\" }}\n            color=\"secondary\"\n            aria-label=\"add\"\n            onClick={() => {\n              this.setState({ creationForm: !this.state.creationForm });\n            }}\n          >\n            {!this.state.creationForm ? <AddIcon /> : <ClearIcon />}\n          </Fab>\n          {this.state.creationForm ? (\n            <div>\n              <h3> Create new user </h3>\n              <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n                <Grid container spacing={4}>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      style={{ padding: \"10px\", width: \"95%\" }}\n                      id=\"standard-secondary\"\n                      label=\"First name\"\n                      name=\"firstName\"\n                      value={firstName}\n                      onChange={this._handleTextFieldChange}\n                      color=\"secondary\"\n                      required\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      style={{ padding: \"10px\", width: \"95%\" }}\n                      id=\"standard-secondary\"\n                      label=\"Last name\"\n                      name=\"lastName\"\n                      value={lastName}\n                      onChange={this._handleTextFieldChange}\n                      color=\"secondary\"\n                      required\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      style={{ padding: \"10px\", width: \"95%\" }}\n                      id=\"standard-secondary\"\n                      label=\"Username\"\n                      name=\"username\"\n                      value={username}\n                      onChange={this._handleTextFieldChange}\n                      color=\"secondary\"\n                      required\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      style={{ padding: \"10px\", width: \"95%\" }}\n                      type=\"email\"\n                      id=\"standard-secondary\"\n                      label=\"Email\"\n                      name=\"email\"\n                      value={email}\n                      onChange={this._handleTextFieldChange}\n                      color=\"secondary\"\n                      required\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      style={{ padding: \"10px\", width: \"95%\" }}\n                      id=\"standard-secondary\"\n                      label=\"Address\"\n                      name=\"address\"\n                      value={address}\n                      onChange={this._handleTextFieldChange}\n                      color=\"secondary\"\n                      required\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      style={{ padding: \"10px\", width: \"95%\" }}\n                      type=\"number\"\n                      id=\"standard-secondary\"\n                      label=\"Phone\"\n                      name=\"phone\"\n                      value={phone}\n                      onChange={this._handleTextFieldChange}\n                      color=\"secondary\"\n                      required\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <FormControl style={{ padding: \"10px\", width: \"95%\" }}>\n                      <InputLabel id=\"demo-mutiple-checkbox-label\">\n                        Authorities\n                      </InputLabel>\n                      <Select\n                        labelId=\"demo-mutiple-checkbox-label\"\n                        id=\"demo-mutiple-checkbox\"\n                        multiple\n                        value={authorities}\n                        onChange={this.handleChange}\n                        input={<Input />}\n                        renderValue={(selected) => {\n                          let strArr = selected.map(s => s.authority);\n                          return  strArr.join(\", \")\n                        }}>\n                        {this.state.authorityNames.map((name) => (\n                          <MenuItem key={name.id} value={name}>\n                            <Checkbox\n                              checked={authorities.indexOf(name) > -1}\n                            />\n                            <ListItemText primary={name.authority} />\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Button variant=\"contained\" color=\"secondary\" type=\"submit\">\n                      Submit\n                    </Button>\n                  </Grid>\n                </Grid>\n              </form>\n              <Snackbar\n                anchorOrigin={{ vertical, horizontal }}\n                open={open}\n                message=\"User created successfully\"\n                key={vertical + horizontal}\n              />\n            </div>\n          ) : (\n            <UserListings/>\n          )}\n        </Wrapper>\n      </div>\n    );\n  }\n}\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}